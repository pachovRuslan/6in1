{"ast":null,"code":"import _toConsumableArray from\"D:/.vscode/6in1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/.vscode/6in1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./photos.scss';import Collection from'./components/Collection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categories=[{name:'Все'},{name:'Море'},{name:'Горы'},{name:'Архитектура'},{name:'Города'}];function App(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),collection=_React$useState2[0],setCollection=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setIsLoading=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),searchValue=_React$useState6[0],setSearchValue=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),categoryId=_React$useState8[0],setCategoryId=_React$useState8[1];var _React$useState9=React.useState(1),_React$useState10=_slicedToArray(_React$useState9,2),page=_React$useState10[0],setPage=_React$useState10[1];React.useEffect(function(){setIsLoading(true);var category=categoryId?\"category=\".concat(categoryId):'';fetch(\"https://62ea7a82ad295463258d86d1.mockapi.io/city?page=\".concat(page,\"&limit=3&\").concat(category)).then(function(res){return res.json();}).then(function(json){setCollection(json);}).catch(function(err){console.warn(err);alert('error ');}).finally(function(){return setIsLoading(false);});},[categoryId,page]);var onChangeSearchValue=function onChangeSearchValue(event){setSearchValue(event.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"body_photos\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"photos\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041C\\u043E\\u044F \\u043A\\u043E\\u043B\\u043B\\u0435\\u043A\\u0446\\u0438\\u044F \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0439\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"tags\",children:categories.map(function(obj,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setCategoryId(i);},className:categoryId===i?'active':'',children:obj.name},obj.name);})}),/*#__PURE__*/_jsx(\"input\",{value:searchValue,onChange:onChangeSearchValue,className:\"search-input\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content_photos\",children:isLoading?/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0418\\u0434\\u0451\\u0442 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\"}):collection.filter(function(obj){return obj.name.toLowerCase().includes(searchValue.toLocaleLowerCase());}).map(function(obj,index){return/*#__PURE__*/_jsx(Collection,{name:obj.name,images:obj.photos},index);})}),/*#__PURE__*/_jsx(\"ul\",{className:\"pagination\",children:_toConsumableArray(Array(3)).map(function(_,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setPage(i+1);},className:page===i+1?'active':'',children:i+1});})})]})});}export default App;","map":{"version":3,"names":["React","Collection","categories","name","App","useState","collection","setCollection","isLoading","setIsLoading","searchValue","setSearchValue","categoryId","setCategoryId","page","setPage","useEffect","category","fetch","then","res","json","catch","err","console","warn","alert","finally","onChangeSearchValue","event","target","value","map","obj","i","filter","toLowerCase","includes","toLocaleLowerCase","index","photos","Array","_"],"sources":["D:/.vscode/6in1/src/pages/photos/Photos.jsx"],"sourcesContent":["import React from 'react';\r\nimport './photos.scss';\r\nimport Collection from './components/Collection';\r\nconst categories = [\r\n  { name: 'Все' },\r\n  { name: 'Море' },\r\n  { name: 'Горы' },\r\n  { name: 'Архитектура' },\r\n  { name: 'Города' },\r\n];\r\nfunction App() {\r\n  const [collection, setCollection] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [categoryId, setCategoryId] = React.useState(0);\r\n  const [page, setPage] = React.useState(1);\r\n  React.useEffect(() => {\r\n    setIsLoading(true)\r\n    const category =  categoryId ? `category=${categoryId}` : '';\r\n  \r\n    fetch(\r\n      `https://62ea7a82ad295463258d86d1.mockapi.io/city?page=${page}&limit=3&${category}`,\r\n    )\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setCollection(json);\r\n      })\r\n      .catch((err) => {\r\n        console.warn(err);\r\n        alert('error ');\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [categoryId, page]);\r\n  const onChangeSearchValue = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"body_photos\">\r\n      <div className=\"photos\">\r\n        <h1>Моя коллекция фотографий</h1>\r\n        <div className=\"top\">\r\n          <ul className=\"tags\">\r\n            {categories.map((obj, i) => (\r\n              <li\r\n                onClick={() => setCategoryId(i)}\r\n                className={categoryId === i ? 'active' : ''}\r\n                key={obj.name}>\r\n                {obj.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <input\r\n            value={searchValue}\r\n            onChange={onChangeSearchValue}\r\n            className=\"search-input\"\r\n            placeholder=\"Поиск по названию\"\r\n          />\r\n        </div>\r\n        <div className=\"content_photos\">\r\n          {isLoading ? (\r\n            <h2>Идёт загрузка</h2>\r\n          ) : (\r\n            collection\r\n              .filter((obj) => {\r\n                return obj.name.toLowerCase().includes(searchValue.toLocaleLowerCase());\r\n              })\r\n              .map((obj, index) => <Collection key={index} name={obj.name} images={obj.photos} />)\r\n          )}\r\n        </div>\r\n        <ul className=\"pagination\">\r\n         {[...Array(3)].map((_, i)=> <li  \r\n         onClick={() => setPage(i+1)}\r\n         className={page === i+1 ? 'active' : ''} >{i+1}</li>)}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}